<!DOCTYPE html>
<html>
<head>
  <title>CAPTCHA Example</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <h2>Пожалуйста, пройдите капчу</h2>

  <form action="verify.php" method="POST">
    <div class="g-recaptcha" data-sitekey="6LcerX4rAAAAAMP_B8wDxZIwjKtVrQ7dfqUyXHXl"></div>
    <br/>
    <input type="submit" value="Отправить">
  </form>
</body>
</html>
<?php
$secret = '6LcerX4rAAAAAMP_B8wDxZIwjKtVrQ7dfqUyXHXl';
$response = $_POST['g-recaptcha-response'];

$verify = file_get_contents("https://www.google.com/recaptcha/api/siteverify?secret={$secret}&response={$response}");
$captcha_success = json_decode($verify);

if ($captcha_success->success) {
    echo "Капча пройдена!";
} else {
    echo "Капча не пройдена.";
}
?>
